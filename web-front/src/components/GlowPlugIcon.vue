<template>
<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 237.65506 665.44729"
  :width="width"
  :height="height"
  role="presentation"
>
  <g ref="glowIcon">
    <g>
      <path
       d="M 118.826 665.447 C 141.214 665.448 159.337 647.329 159.335 624.938 L 159.335 567.118 C 176.971 561.529 190.262 544.955 190.261 524.806 L 190.262 326.752 C 202.885 326.665 214.739 321.715 223.675 312.779 C 232.69 303.764 237.655 291.779 237.655 279.028 L 237.655 248.64 C 237.654 239.389 230.154 231.889 220.903 231.888 L 190.26 231.888 L 190.26 200.737 L 197.556 199.12 C 206.589 197.117 212.287 188.171 210.283 179.138 C 208.279 170.106 199.334 164.408 190.301 166.412 L 190.26 166.422 L 190.26 150.901 L 197.556 149.283 C 206.589 147.28 212.287 138.335 210.283 129.301 C 208.279 120.269 199.334 114.571 190.301 116.575 L 190.26 116.585 L 190.259 50.4638 C 190.262 36.9842 185.013 24.3108 175.482 14.7797 C 165.951 5.24856 153.277 -0.000292242 139.798 -0.000292242 L 118.825 -0.000292242 C 109.574 -0.000999349 102.073 7.49858 102.074 16.7511 C 102.074 26.0029 109.574 33.5024 118.825 33.5024 L 139.799 33.5031 C 144.329 33.5031 148.588 35.2674 151.791 38.4706 C 154.994 41.6738 156.757 45.9334 156.759 50.4631 L 156.76 91.6443 C 156.419 91.558 156.074 91.4895 155.731 91.4124 C 153.764 86.8204 150.926 82.5976 147.287 78.9588 C 139.782 71.4536 129.803 67.3198 119.188 67.3198 C 108.573 67.3198 98.5951 71.4529 91.0891 78.9588 C 87.4985 82.5495 84.6898 86.7101 82.7262 91.2321 C 74.3236 92.9652 66.5999 97.1011 60.3929 103.308 C 52.0088 111.692 47.3913 122.839 47.3921 134.697 L 47.3921 148.272 L 40.8202 149.73 C 37.5908 150.446 34.79 152.049 32.6128 154.226 C 28.699 158.14 26.8075 163.908 28.0944 169.712 C 30.0467 178.516 38.5978 184.13 47.3921 182.554 L 47.3921 198.11 L 40.8202 199.568 C 37.5908 200.284 34.79 201.887 32.6128 204.064 C 28.699 207.978 26.8075 213.746 28.0944 219.55 C 29.4386 225.606 33.9096 230.151 39.4307 231.892 L 16.751 231.892 C 12.3089 231.892 8.04721 233.656 4.90624 236.797 C 1.76385 239.939 0.000328296 244.201 -0.000378811 248.643 L 0.000328296 279.031 C 0.000328296 305.237 21.2305 326.57 47.3942 326.753 L 47.3942 524.808 C 47.3942 544.593 60.4064 561.39 78.3209 567.105 L 78.3192 624.936 C 78.315 647.275 96.4876 665.448 118.826 665.447 Z M 80.892 134.695 C 80.892 131.787 82.0254 129.053 84.0817 126.997 C 86.1366 124.942 88.8667 123.81 91.7715 123.808 L 145.881 123.808 C 147.795 123.811 149.629 124.311 151.249 125.235 L 80.8927 140.841 Z M 80.892 175.159 L 156.759 158.331 L 156.759 173.852 L 80.892 190.68 Z M 80.8927 224.996 L 156.759 208.169 L 156.759 231.86 L 80.8934 231.86 Z M 33.4995 279.029 L 33.4995 265.393 L 204.153 265.393 L 204.153 279.03 C 204.153 282.83 202.673 286.403 199.986 289.091 C 197.299 291.778 193.725 293.258 189.925 293.258 L 173.518 293.257 L 173.511 293.256 L 64.1399 293.256 L 47.7265 293.256 C 39.8819 293.257 33.4988 286.874 33.4995 279.029 Z M 80.892 524.806 L 80.8927 326.76 L 156.758 326.76 L 156.759 524.806 C 156.759 530.823 151.889 535.693 145.871 535.694 C 144.439 535.694 93.3293 535.693 91.7786 535.693 C 85.7767 535.694 80.892 530.809 80.892 524.806 Z M 111.818 624.938 L 111.819 569.198 L 125.833 569.198 L 125.833 624.938 C 125.833 628.804 122.699 631.945 118.826 631.946 C 114.962 631.945 111.818 628.801 111.818 624.938 Z" />
      <rect x="0" y="0" width="237.65506" height="665.44729" style="fill-opacity: 0" @click="$emit('click')"/>
    </g>
  </g>
</svg>
</template>

<script>
  import { TweenMax } from 'gsap'

  export default {
    name: 'GlowPlugIcon',
    props: {
      width: {
        type: [Number, String],
        default: 18
      },
      height: {
        type: [Number, String],
        default: 18
      },
      onColor: {
        type: String,
        default: 'black'
      },
      offColor: {
        type: String,
        default: 'red'
      },
      running: {
        type: Boolean,
        default: false
      },
    },
    mounted: function () {
      this.glowAnim = TweenMax.fromTo(this.$refs.glowIcon,
        { fill: this.offColor },
        { fill: this.onColor,
          duration: 0.3,
          repeat: -1,
          paused: !this.running,
          yoyo: true,
        }
      )
    },
    methods: {
    },
    data: () => ({
      glowAnim: null,
    }),
    watch: {
      running: function(newVal) {
        if (newVal) {
          this.glowAnim.play()
        } else {
          this.glowAnim.pause(0)
        }
      }
    }
  }
</script>
