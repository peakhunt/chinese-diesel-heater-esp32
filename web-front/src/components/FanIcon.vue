<template>
<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 979.992 982.66998"
  :width="width"
  :height="height"
  role="presentation"
>
  <g :fill="fanColor" ref="fanIcon">
    <g>
      <path
       d="M 441.247 2.12 C 345.667 9.99 282.137 47.03 246.247 115.36 L 236.267 134.74 L 238.377 154.89 C 245.477 217.27 277.727 285.59 331.457 351.81 C 340.477 363.13 347.967 372.73 347.967 373.31 C 347.967 373.89 344.127 379.45 339.527 385.79 C 334.917 392.12 330.697 398.27 330.317 399.42 C 329.937 400.76 271.587 369.29 191.367 324.38 C 115.547 281.95 52.7874 246.83 52.2074 246.44 C 50.0974 245.29 22.6474 300.76 14.9774 321.29 C 3.2674 353.15 -0.1826 371.19 0.0074 403.05 C 0.0074 425.12 0.9674 433.95 4.0374 445.66 C 10.1774 468.31 18.8174 487.31 31.8674 507.08 C 42.8074 523.39 44.7274 525.5 56.2374 531.07 C 115.547 560.63 207.097 568.11 307.087 551.8 L 314.957 550.46 L 321.867 565.24 C 325.707 573.49 328.777 580.78 328.777 581.36 C 328.777 582.13 266.597 618.02 190.587 661.2 C 114.587 704.38 52.3974 740.27 52.3974 741.04 C 52.3974 743.92 85.4074 791.71 97.4974 805.91 C 147.397 865.79 207.667 894 276.947 889.78 L 297.097 888.63 L 313.407 877.69 C 334.327 863.3 364.647 833.36 382.697 808.98 C 407.457 775.59 432.407 729.52 447.947 688.45 C 453.517 673.48 454.667 671.56 458.307 672.52 C 460.607 673.1 468.667 674.25 476.157 674.82 L 489.977 676.16 L 489.977 829.32 L 489.977 982.67 L 499.187 982.67 C 519.727 982.67 561.367 978.45 583.447 974.03 C 654.647 959.64 703.397 925.09 733.537 867.32 L 743.707 848.13 L 741.597 828.55 C 739.297 807.24 732.767 780.57 724.707 759.07 C 710.887 721.84 680.377 670.78 648.127 630.67 C 636.417 616.09 631.817 609.18 633.157 607.45 C 634.117 605.91 638.337 599.77 642.367 593.63 C 646.587 587.49 650.047 582.31 650.427 581.92 C 650.617 581.54 712.617 615.89 788.427 658.31 C 864.047 700.73 927.187 734.89 928.537 734.31 C 932.947 732.58 961.167 673.28 968.457 650.63 C 978.627 618.39 980.167 608.41 979.977 578.66 C 979.977 557.74 979.017 548.53 975.947 537.01 C 969.807 514.55 961.167 495.36 948.117 475.59 C 937.177 459.09 935.257 457.36 923.737 451.6 C 896.287 438.17 857.907 428.19 816.257 423.96 C 788.617 421.08 731.617 422.62 699.177 427.22 C 662.137 432.4 665.397 433.36 657.527 415.9 C 653.687 407.84 651.007 400.74 651.387 400.35 C 651.767 399.77 713.957 364.46 789.387 321.47 C 864.817 278.48 926.997 242.97 927.387 242.59 C 928.537 241.44 910.497 213.61 895.717 193.65 C 841.977 121.68 780.557 89.05 704.937 92.89 L 682.867 94.04 L 667.127 104.79 C 614.727 140.3 565.597 208.24 533.927 289.42 C 526.637 308.23 524.907 310.92 521.647 310.15 C 519.537 309.57 511.477 308.61 503.987 307.85 L 489.977 306.51 L 489.977 153.35 L 489.977 0 L 475.197 0.19 C 466.967 0.39 451.607 1.16 441.247 2.12 Z M 512.447 401.9 C 527.987 406.12 539.697 412.65 552.367 424.55 C 582.877 452.95 590.557 495.18 572.327 532.99 C 569.837 537.98 561.767 548.35 554.287 555.83 C 533.937 576.37 512.447 584.81 484.617 583.08 C 418.977 578.86 379.057 511.11 407.077 451.23 C 413.407 437.6 435.677 415.15 448.727 408.81 C 468.687 399.41 493.257 396.72 512.447 401.9 Z" />
    </g>
  </g>
</svg>
</template>

<script>
  import { TweenMax } from 'gsap'

  export default {
    name: 'FanIcon',
    props: {
      width: {
        type: [Number, String],
        default: 18
      },
      height: {
        type: [Number, String],
        default: 18
      },
      onColor: {
        type: String,
        default: 'blue'
      },
      offColor: {
        type: String,
        default: 'black'
      },
      running: {
        type: Boolean,
        default: false
      },
    },
    computed: {
      fanColor: function() {
        if (this.running) {
          return this.onColor
        } else {
          return this.offColor
        }
      },
    },
    methods: {
    },
    mounted: function () {
      this.rotateAnim = TweenMax.to(this.$refs.fanIcon, 0.5, {
          rotation: 360,
          repeat: -1,
          svgOrigin: '489.996 491.33499',
          ease: 'none',
          paused: !this.running
        })
    },
    data: () => ({
      rotateAnim: null,
    }),
    watch: {
      running: function(newVal) {
        if (newVal) {
          this.rotateAnim.play()
        } else {
          this.rotateAnim.pause()
        }
      }
    }
  }
</script>
